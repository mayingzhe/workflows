app:
  description: ''
  icon: ğŸ¤–
  icon_background: '#FFEAD5'
  mode: advanced-chat
  name: Smart Recipe Recognition
  use_icon_as_answer_icon: false
dependencies:
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: langgenius/gemini:0.7.2@6e53b92877de2507ce83f2fc32ddf54a9662e4b5ef9e7e5d17bd18153a6485da
    version: null
- current_identifier: null
  type: marketplace
  value:
    marketplace_plugin_unique_identifier: qiangxinglin/excel_tools:0.0.5@81147a24fa4dc871759a759bda9cf024efdba3c525815e40daba74bd7ee89c4b
    version: null
kind: app
version: 0.5.0
workflow:
  conversation_variables: []
  environment_variables: []
  features:
    file_upload:
      allowed_file_extensions:
      - .JPG
      - .JPEG
      - .PNG
      - .GIF
      - .WEBP
      - .SVG
      allowed_file_types:
      - image
      allowed_file_upload_methods:
      - remote_url
      - local_file
      enabled: true
      fileUploadConfig:
        audio_file_size_limit: 50
        batch_count_limit: 5
        file_size_limit: 15
        image_file_batch_limit: 10
        image_file_size_limit: 10
        single_chunk_attachment_limit: 10
        video_file_size_limit: 100
        workflow_file_upload_limit: 10
      image:
        enabled: false
        number_limits: 3
        transfer_methods:
        - local_file
        - remote_url
      number_limits: 3
    opening_statement: ''
    retriever_resource:
      enabled: true
    sensitive_word_avoidance:
      enabled: false
    speech_to_text:
      enabled: false
    suggested_questions: []
    suggested_questions_after_answer:
      enabled: false
    text_to_speech:
      enabled: false
      language: ''
      voice: ''
  graph:
    edges:
    - data:
        sourceType: start
        targetType: llm
      id: 1766046709359-llm
      selected: false
      source: '1766046709359'
      sourceHandle: source
      target: llm
      targetHandle: target
      type: custom
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: llm
        targetType: code
      id: llm-source-1766046979749-target
      selected: false
      source: llm
      sourceHandle: source
      target: '1766046979749'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInIteration: false
        isInLoop: false
        sourceType: code
        targetType: tool
      id: 1766046979749-source-1766116684970-target
      selected: false
      source: '1766046979749'
      sourceHandle: source
      target: '1766116684970'
      targetHandle: target
      type: custom
      zIndex: 0
    - data:
        isInLoop: false
        sourceType: tool
        targetType: answer
      id: 1766116684970-source-answer-target
      selected: false
      source: '1766116684970'
      sourceHandle: source
      target: answer
      targetHandle: target
      type: custom
      zIndex: 0
    nodes:
    - data:
        desc: ''
        selected: false
        title: å¼€å§‹
        type: start
        variables: []
      height: 73
      id: '1766046709359'
      position:
        x: 80
        y: 282
      positionAbsolute:
        x: 80
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        context:
          enabled: false
          variable_selector: []
        desc: ''
        memory:
          query_prompt_template: '{{#sys.query#}}


            {{#sys.files#}}'
          role_prefix:
            assistant: ''
            user: ''
          window:
            enabled: false
            size: 10
        model:
          completion_params:
            temperature: 0.1
          mode: chat
          name: gemini-3-flash-preview
          provider: langgenius/gemini/google
        prompt_template:
        - id: d84e1d35-0c15-45b2-8e45-bf7e8340aca1
          role: system
          text: "# Role\nä½ æ˜¯ä¸€ä¸ªæåº¦ä¸¥è°¨çš„ OCR æ•°æ®å½•å…¥å‘˜ï¼Œä½ çš„ä»»åŠ¡æ˜¯ã€é€å­—é€å¥ã€‘èªŠæŠ„å›¾ç‰‡ä¸­çš„æ‰€æœ‰æ–‡å­—ï¼Œç»å¯¹ä¸å…è®¸æ¼æ‰ä»»ä½•æ‹¬å·å†…çš„å¤‡æ³¨\n\
            \nè¯·åˆ†æä¸Šä¼ çš„å›¾ç‰‡ï¼Œæå–å›¾ç‰‡çš„æ•°æ®ã€‚\nã€ä¸¥æ ¼æ ¼å¼è¦æ±‚ã€‘\nè¾“å‡ºæ ‡å‡†çš„ JSON æ•°ç»„ [{\"key\": \"value\"}, ...]ã€‚\n\
            å¦‚æœæœ‰åŒå¼•å· \" å‡ºç°åœ¨å†…å®¹é‡Œï¼Œè¯·å¿…é¡»å°†å…¶è½¬æ¢ä¸ºå•å¼•å· 'ï¼Œæˆ–è€…ä½¿ç”¨è½¬ä¹‰ç¬¦ \\\"ã€‚\né”™è¯¯ç¤ºä¾‹ï¼š{\"desc\": \"Size 5\"\
            \ tall\"}\næ­£ç¡®ç¤ºä¾‹ï¼š{\"desc\": \"Size 5' tall\"}\nä¸è¦è¾“å‡º Markdown æ ‡è®°ï¼Œä¸è¦è¾“å‡ºåºŸè¯ã€‚\n\
            ç¡®ä¿ JSON æ ¼å¼å®Œæ•´ï¼Œä¸è¦åŠè·¯ä¸­æ–­ã€‚\n\nèœå•åç§°ä¸‹é¢çš„æ‹¬å·å†…çš„çº¢è‰²å¤‡æ³¨ä¸€å®šè¦æå–å‡ºæ¥ï¼Œä¾‹å¦‚ï¼šï¼ˆServed with Pancakes,\
            \ Salad& Sweet & Sour Sauceï¼‰ï¼Œå¹¶ä¸”æ‹¼æ¥åˆ°èœå•åç§°çš„åé¢ã€‚\n\n**å¤‡æ³¨æ•è·**ï¼šå›¾ç‰‡ä¸­è®¸å¤šèœåä¸‹æ–¹æœ‰ç¼©è¿›çš„ã€æ‹¬å·åŒ…è£¹çš„æè¿°ï¼Œè¿™äº›å¤‡æ³¨æ˜¯æ ¸å¿ƒä¿¡æ¯ï¼Œéå¸¸é‡è¦ï¼Œã€å¿…é¡»ã€‘æå–ã€‚\n\
            \nâ€œå…¨æ¯æå–æŒ‡ä»¤ï¼š\nå°åˆ·ä½“ï¼šÂ å®Œæ•´æå–ç¼–å·ã€èœå•åç§°ï¼ˆåŒ…å«æ‹¬å·é‡Œçš„æ‰€æœ‰æè¿°å†…å®¹ï¼Œå¦‚Â ï¼ˆServed with Pancakes, Salad&\
            \ Sweet & Sour Sauceï¼‰ã€‚\nå®Œæ•´æ€§ï¼šÂ å®å¯å¤šæå–ï¼Œä¸å¯æ¼æ‰ä»»ä½•ä¸€è¡Œæ–‡å­—ã€‚\nå°åˆ·ä½“çš„èœå•ï¼Œå¦‚æœä¸Šé¢æœ‰æ‰‹å†™çš„å­—è¿¹æ— éœ€æå–ã€‚\n\
            \nè¯·åˆ†æä¸Šä¼ çš„å›¾ç‰‡ï¼Œæ ¹æ®å…¶å®é™…å†…å®¹ï¼Œçµæ´»å®šä¹‰æœ€åˆé€‚çš„è¡¨å¤´ï¼ˆKeysï¼‰ï¼Œå¹¶å°†æ•°æ®æå–ä¸º JSON æ•°ç»„\n**è¡¨å¤´å®šä¹‰**ï¼šæ ¹æ®åœºæ™¯é€»è¾‘ï¼Œæå–\
            \ 2-5 ä¸ªæ ¸å¿ƒç»´åº¦ä½œä¸º JSON çš„ Keyã€‚\n   - ä¾‹å¦‚ï¼Œè‹¥æ˜¯èœå•ï¼ŒKey å¯èƒ½æ˜¯ [\"åˆ†ç±»\", \"èœå“åç§°\", \"\
            ä»·æ ¼\"]"
        - id: 85af6487-ea4d-4472-af02-f98bae58d577
          role: user
          text: 'è¯·åˆ†æè¿™å¼ å›¾ç‰‡ï¼Œæå–å…¶ä¸­çš„è¡¨æ ¼æ•°æ®ã€‚

            ã€ä¸¥æ ¼è¦æ±‚ã€‘

            åªè¾“å‡ºçº¯ JSON æ•°ç»„ï¼Œä¸è¦è¾“å‡ºä»»ä½•â€œå¥½çš„â€ã€â€œè¿™æ˜¯ç»“æœâ€ä¹‹ç±»çš„åºŸè¯ã€‚

            ä¸è¦ä½¿ç”¨ Markdown æ ‡è®°ï¼ˆä¸è¦å†™Â json ä¹Ÿä¸è¦å†™ï¼‰ã€‚

            å¿…é¡»ä½¿ç”¨åŒå¼•å·Â "ï¼Œä¸¥ç¦ä½¿ç”¨å•å¼•å·ã€‚

            å¦‚æœæ— æ³•è¯†åˆ«æˆ–æ²¡æœ‰æ•°æ®ï¼Œç›´æ¥è¾“å‡ºç©ºæ•°ç»„Â []


            â€œè¯·åŠ¡å¿…ä¿ç•™æ‹¬å·å†…çš„æ‰€æœ‰ä¿¡æ¯ï¼Œå¦‚ (x6)ã€(x8) ç­‰ã€‚â€

            â€œå¦‚æœè¯†åˆ«åˆ°ä¸ç¡®å®šçš„å•è¯ï¼Œè¯·ç»“åˆä¸Šä¸‹æ–‡ï¼ˆå¦‚é¤é¥®è¯æ±‡ï¼‰è¿›è¡Œçº é”™ï¼Œä¾‹å¦‚ Combination è€Œé Combmatonã€‚â€'
        selected: false
        title: LLM
        type: llm
        variables: []
        vision:
          configs:
            detail: high
            variable_selector:
            - sys
            - files
          enabled: true
      height: 88
      id: llm
      position:
        x: 379
        y: 282
      positionAbsolute:
        x: 379
        y: 282
      selected: true
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        answer: '{{#1766116684970.files#}}'
        desc: ''
        selected: false
        title: ç›´æ¥å›å¤
        type: answer
        variables: []
      height: 103
      id: answer
      position:
        x: 1300
        y: 282
      positionAbsolute:
        x: 1300
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        code: "import json\nimport re\n\ndef main(arg1: str):\n    # 1. å°è¯•ç”¨æ­£åˆ™è¡¨è¾¾å¼æå–å‡º\
          \ JSON æ•°ç»„éƒ¨åˆ† [] æˆ–å¯¹è±¡éƒ¨åˆ† {}\n    match = re.search(r'(\\[.*\\]|\\{.*\\})', arg1,\
          \ re.DOTALL)\n    if match:\n        json_str = match.group(1)\n    else:\n\
          \        json_str = arg1\n    \n    # 2. å°è¯•ä¿®å¤å¸¸è§çš„ LLM JSON é”™è¯¯ï¼ˆå¦‚å•å¼•å·æ¢åŒå¼•å·ï¼‰\n\
          \    # æ³¨æ„ï¼šè¿™é‡Œè¿”å›çš„æ˜¯å­—ç¬¦ä¸²ï¼Œå› ä¸ºâ€œJSONè½¬EXCELâ€æ’ä»¶é€šå¸¸æ¥æ”¶çš„æ˜¯å­—ç¬¦ä¸²\n    try:\n        # éªŒè¯ä¸€ä¸‹æ˜¯ä¸æ˜¯çœŸçš„åˆæ³•\
          \ JSON\n        json.loads(json_str)\n        return {\"result\": json_str}\n\
          \    except Exception as e:\n        # å¦‚æœè¿˜æ˜¯é”™ï¼Œå°è¯•å»æ‰æœ«å°¾å¯èƒ½å¤šä½™çš„é€—å·æˆ–æ–‡å­—\n        return\
          \ {\"result\": json_str, \"error\": str(e)}"
        code_language: python3
        desc: ''
        outputs:
          result:
            children: null
            type: string
        selected: false
        title: ä»£ç æ‰§è¡Œ
        type: code
        variables:
        - value_selector:
          - llm
          - text
          value_type: string
          variable: arg1
      height: 52
      id: '1766046979749'
      position:
        x: 684
        y: 282
      positionAbsolute:
        x: 684
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    - data:
        desc: ''
        is_team_authorization: true
        output_schema: null
        paramSchemas:
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: The JSON string to convert.
            ja_JP: The JSON string to convert.
            pt_BR: The JSON string to convert.
            zh_Hans: è¦è½¬æ¢çš„JSONå­—ç¬¦ä¸²ã€‚
          label:
            en_US: JSON String
            ja_JP: JSON String
            pt_BR: JSON String
            zh_Hans: JSONå­—ç¬¦ä¸²
          llm_description: The JSON string to convert.
          max: null
          min: null
          name: json_str
          options: []
          placeholder: null
          precision: null
          required: true
          scope: null
          template: null
          type: string
        - auto_generate: null
          default: null
          form: llm
          human_description:
            en_US: The filename for the generated Excel file
            ja_JP: The filename for the generated Excel file
            pt_BR: The filename for the generated Excel file
            zh_Hans: ç”Ÿæˆçš„Excelæ–‡ä»¶çš„æ–‡ä»¶å
          label:
            en_US: Excel filename
            ja_JP: Excel filename
            pt_BR: Excel filename
            zh_Hans: Excelæ–‡ä»¶å
          llm_description: The filename that will be used for the generated Excel
            file
          max: null
          min: null
          name: filename
          options: []
          placeholder: null
          precision: null
          required: false
          scope: null
          template: null
          type: string
        params:
          filename: ''
          json_str: ''
        provider_id: qiangxinglin/excel_tools/excel_tools
        provider_name: qiangxinglin/excel_tools/excel_tools
        provider_type: builtin
        selected: false
        title: Jsonè½¬Excel
        tool_configurations: {}
        tool_description: å°†Jsonè½¬æ¢ä¸ºExcelã€‚
        tool_label: Jsonè½¬Excel
        tool_name: json2excel
        tool_node_version: '2'
        tool_parameters:
          filename:
            type: mixed
            value: menu
          json_str:
            type: mixed
            value: '{{#1766046979749.result#}}'
        type: tool
      height: 52
      id: '1766116684970'
      position:
        x: 988
        y: 282
      positionAbsolute:
        x: 988
        y: 282
      selected: false
      sourcePosition: right
      targetPosition: left
      type: custom
      width: 242
    viewport:
      x: -424.9166205056383
      y: 191.75426253439102
      zoom: 0.7578582832551993
  rag_pipeline_variables: []
